#:include widgets/preview_output.kv


<UploaderScreen>:
    name: "uploader_screen"

    GridLayout:
        cols: 2

        GridLayout:
            id: input_container
            cols: 1

            GridLayout:
                id: uploader_input_container
                cols: 4

                UploaderInfoInput:
                    id: manga_id
                    label: "manga id"
                UploaderInfoInput:
                    id: volume
                    label: "volume"
                UploaderInfoInput:
                    id: chapter
                    label: "chapter"
                UploaderInfoInput:
                    id: title
                    label: "title"
                UploaderInfoInput:
                    id: language
                    label: "language"
                UploaderInfoInput:
                    id: group_1_id
                    label: "group 1 id"
                UploaderInfoInput:
                    id: group_2_id
                    label: "group 2 id"
                UploaderInfoInput:
                    id: group_3_id
                    label: "group 3 id"
                UploaderInfoInput:
                    id: group_4_id
                    label: "group 4 id"
                UploaderInfoInput:
                    id: group_5_id
                    label: "group 5 id"
                UploaderInfoInput:
                    id: external_url
                    label: "external url"
            BoxLayout:
                id: buttons_container
                size_hint_y: 0.15
                padding: (20, 25)
                spacing: 25

                Button:
                    id: return_to_app_selection_button
                    text: "return"
                    background_color: "#ffbb66ff"
                    background_normal: ""
                    on_release:
                        root.return_to_app_selection()

                Button:
                    id: clear_all_button
                    text: "clear all"
                    background_color: "#e5cf4cff"
                    background_normal: ""
                    on_release:
                        root.clear_all_fields()
                Button:
                    id: choose_files_button
                    text: "choose files"
                    background_color: "#998398ff"
                    background_normal: ""
                    on_release:
                        root.select_files()
                Button:
                    id: mass_upload_button
                    text: "upload"
                    background_color: "#69c468ff"
                    background_normal: ""
                    on_release:
                        root.mass_upload()
        PreviewOutput:
            id: preview
            initial_text:
                """Choose files to upload with the 'choose files' button. Files must be .zip or .cbz.
                Insert chapter names, volume numbers, chapter numbers, and group IDs into their respective fields. Each line is one chapter.
                Inputting a single value will use that for all chapters. For chapter number, it'll increment by 1 for each chapter instead.
                If you want a chapter to have an empty title or whatever, just skip a line.
                A preview of the chapters will appear in this panel once files are selected.
                The log panel at the bottom will tell you if you fucked up.
                If there are any bugs or you want any features just make a PR so that I don't actually have to do more work."""
